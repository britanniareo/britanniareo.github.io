!function(e,t,r){"use-strict";t.module("Britannia",["ui.router","ngMaterial"]).config(["$mdThemingProvider",function(e){e.definePalette("britannia-blue",{50:"#e2edf9",100:"#a3c5ec",200:"#74a7e2",300:"#3982d6",400:"#2973c7",500:"#2464ae",600:"#1f5595",700:"#1a477b",800:"#143862",900:"#0f2a49",A100:"#e2edf9",A200:"#a3c5ec",A400:"#2973c7",A700:"#1a477b",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","A100","A200"]}),e.theme("default").primaryPalette("britannia-blue").accentPalette("red")}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("","/"),e.state("home",{url:"/",controller:"HomeCtrl",templateUrl:"/html/home.html"}),e.state("services",{url:"/services",controller:"ServicesCtrl",templateUrl:"/html/services.html"}),e.state("service-areas",{url:"/service-areas",controller:"ServiceAreasCtrl",templateUrl:"/html/service-areas.html",resolve:{areas:["ServiceAreasService",function(e){return e.getAllAreas()}]}}),e.state("error",{url:"/error",templateUrl:"/html/not-found.html"}),e.state("not-found",{url:"*path",templateUrl:"/html/not-found.html"})}]).run(["$rootScope","$location","$window","$state",function(e,t,r,i){e.$on("$stateChangeSuccess",function(e){document.body.scrollTop=document.documentElement.scrollTop=0,!r.ga||t.host().indexOf("www.britanniareo.com")<0||r.ga("send","pageview",{page:t.path()})}),e.$on("$stateChangeError",function(e,t,r,n,o,l){e.preventDefault(),i.go("error")})}]).controller("aniDistances",["$scope",function(t){t.getScrollOffsets=function(t){if(t=t||e,null!==t.pageXOffset)return{x:t.pageXOffset,y:t.pageYOffset};var r=t.document;return"CSS1Compat"===document.compatMode?{x:r.documentElement.scrollLeft,y:r.documentElement.scrollTop}:{x:r.body.scrollLeft,y:r.body.scrollTop}},t.getPosition=function(e){return{x:e[0].offsetLeft,y:e[0].offsetTop}},t.getViewPortSize=function(e){return{x:Math.max(document.documentElement.clientWidth,e.innerWidth||0),y:Math.max(document.documentElement.clientHeight,e.innerHeight||0)}}}]).directive("aniView",["$window",function(e){return{restrict:"A",controller:"aniDistances",transclude:!0,replace:!0,template:'<div ng-transclude ng-class="{ active: inView }"></div>',scope:{inView:"@"},link:function(r,i,n){t.element(e).bind("scroll",function(){if(!r.inView){var t=r.getPosition(i),n=r.getScrollOffsets(e),o=r.getViewPortSize(e),l={x:parseInt(o.x+n.x),y:parseInt(o.y+n.y)};l.y>=t.y+i[0].offsetHeight&&l.x>=t.x?r.inView=!0:r.inView=!1,r.$apply()}})}}}]).factory("ServicesService",["$http",function(e){var t={};return t.getAllServices=function(){return e({url:"/api/services/v1"})},t}]).factory("ServiceAreasService",["$http",function(e){var t={};return t.getAllAreas=function(){return e.get("/api/service-areas/v1").then(function(e){return e.data})},t}]).controller("NavCtrl",["$scope",function(e){e.menuOpen=!1,e.menuStyle="",e.closeMenu=function(){e.menuOpen=!1,e.menuStyle=""},e.toggleMenu=function(){e.menuOpen=!e.menuOpen,e.menuOpen?e.menuStyle="height:"+document.getElementById("menu-wrapper").offsetHeight+"px;":e.menuStyle=""}}]).controller("HomeCtrl",["$scope",function(e){e.services=[{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"},{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"},{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"},{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"},{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"},{name:"Service",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ullamcorper consectetur eleifend. Integer quis turpis et ligula aliquet congue. Nullam pharetra lorem sem, vitae mollis odio lobortis et. Nunc lobortis pulvinar lacus et porta. Ut non placerat turpis"}]}]).controller("ServicesCtrl",["$scope","ServicesService",function(e,t){e.services=[],t.getAllServices().then(function(t){e.services=t.data})}]).controller("ServiceAreasCtrl",["$scope","ServiceAreasService","areas",function(e,t,r){e.counties=r.counties,e.states=r.states}])}(window,window.angular);